"use strict";(self["webpackChunkele_admin_template"]=self["webpackChunkele_admin_template"]||[]).push([[4164],{74164:function(e,t,a){a.r(t),a.d(t,{default:function(){return l}});var r=function(){var e=this,t=e._self._c;return t("el-card",{attrs:{shadow:"never"}},[t("ele-pro-table",{ref:"table",attrs:{"row-key":"userId",title:"可控的排序和筛选",columns:e.columns,datasource:e.datasource,size:"mini"},scopedSlots:e._u([{key:"toolkit",fn:function(){return[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.setSorter}},[e._v(" 设置用户名排序 ")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.resetAll}},[e._v(" 重置排序和筛选 ")]),t("div",{staticStyle:{padding:"0 10px"}},[t("el-divider",{attrs:{direction:"vertical"}})],1)]},proxy:!0}])})],1)},s=[],n=a(59477),o={data(){return{columns:[{columnKey:"index",type:"index",width:45,align:"center",showOverflowTooltip:!0,fixed:"left"},{prop:"username",label:"用户账号",sortable:"custom",showOverflowTooltip:!0,minWidth:110},{prop:"nickname",label:"用户名",sortable:"custom",showOverflowTooltip:!0,minWidth:110},{columnKey:"sexName",prop:"sexName",label:"性别",sortable:"custom",showOverflowTooltip:!0,minWidth:80,filterMultiple:!1,filters:[{text:"男",value:"男"},{text:"女",value:"女"}]},{prop:"phone",label:"手机号",sortable:"custom",showOverflowTooltip:!0,minWidth:110},{prop:"createTime",label:"创建时间",sortable:"custom",showOverflowTooltip:!0,minWidth:110,formatter:(e,t,a)=>this.$util.toDateString(a)}]}},methods:{datasource({page:e,limit:t,order:a,filterValue:r}){return(0,n.I0)({...a,...r,page:e,limit:t})},setSorter(){this.$refs.table.sort("nickname","descending")},resetAll(){this.$refs.table.clearSort(),this.$refs.table.clearFilter(),this.$refs.table.reload({orders:{},filters:{}})}}},i=o,c=a(1001),u=(0,c.Z)(i,r,s,!1,null,null,null),l=u.exports},59477:function(e,t,a){a.d(t,{I0:function(){return s},Nq:function(){return c},OL:function(){return d},PR:function(){return o},Zy:function(){return m},bz:function(){return l},cn:function(){return i},kX:function(){return u},mL:function(){return p},we:function(){return f},yw:function(){return n}});a(21703);var r=a(84471);async function s(e){const t=await r.Z.get("/system/user/page",{params:e});return 0===t.data.code?t.data.data:Promise.reject(new Error(t.data.message))}async function n(e){const t=await r.Z.get("/system/user",{params:e});return 0===t.data.code&&t.data.data?t.data.data:Promise.reject(new Error(t.data.message))}async function o(e){const t=await r.Z.get("/system/user/"+e);return 0===t.data.code?t.data.data:Promise.reject(new Error(t.data.message))}async function i(e){const t=await r.Z.post("/system/user",e);return 0===t.data.code?t.data.message:Promise.reject(new Error(t.data.message))}async function c(e){const t=await r.Z.put("/system/user",e);return 0===t.data.code?t.data.message:Promise.reject(new Error(t.data.message))}async function u(e){const t=await r.Z["delete"]("/system/user/"+e);return 0===t.data.code?t.data.message:Promise.reject(new Error(t.data.message))}async function l(e){const t=await r.Z["delete"]("/system/user/batch",{data:e});return 0===t.data.code?t.data.message:Promise.reject(new Error(t.data.message))}async function d(e,t){const a=await r.Z.put("/system/user/status",{userId:e,status:t});return 0===a.data.code?a.data.message:Promise.reject(new Error(a.data.message))}async function m(e,t="123456"){const a=await r.Z.put("/system/user/password",{userId:e,password:t});return 0===a.data.code?a.data.message:Promise.reject(new Error(a.data.message))}async function f(e){const t=new FormData;t.append("file",e);const a=await r.Z.post("/system/user/import",t);return 0===a.data.code?a.data.message:Promise.reject(new Error(a.data.message))}async function p(e,t,a){const s=await r.Z.get("/system/user/existence",{params:{field:e,value:t,id:a}});return 0===s.data.code?s.data.message:Promise.reject(new Error(s.data.message))}}}]);