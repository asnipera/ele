"use strict";(self["webpackChunkele_admin_template"]=self["webpackChunkele_admin_template"]||[]).push([[1213],{21213:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("ele-modal",{attrs:{width:"460px",visible:e.visible,"append-to-body":!0,"close-on-click-modal":!0,"custom-class":"ele-dialog-form",title:"重命名"},on:{"update:visible":e.updateVisible},scopedSlots:e._u([{key:"footer",fn:function(){return[t("el-button",{on:{click:function(t){return e.updateVisible(!1)}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.save}},[e._v(" 保存 ")])]},proxy:!0}])},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"102px"}},[t("el-form-item",{attrs:{label:"文件/夹名称:",prop:"name"}},[t("el-input",{attrs:{clearable:"",maxlength:20,placeholder:"请输入文件夹名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1)},r=[],n=a(37789),i={props:{visible:Boolean,data:Object},data(){return{form:{name:""},rules:{name:[{required:!0,message:"请输入文件/夹名称",trigger:"blur"}]},loading:!1}},methods:{save(){this.$refs.form.validate((e=>{if(!e)return!1;this.loading=!0,(0,n.JU)({...this.form,id:this.data?.id}).then((e=>{this.loading=!1,this.$message.success(e),this.updateVisible(!1),this.$emit("done")})).catch((e=>{this.loading=!1,this.$message.error(e.message)}))}))},updateVisible(e){this.$emit("update:visible",e)}},watch:{visible(e){e?this.data&&(this.form.name=this.data.name):(this.$refs.form.clearValidate(),this.form.name="")}}},o=i,l=a(1001),d=(0,l.Z)(o,s,r,!1,null,null,null),u=d.exports},37789:function(e,t,a){a.d(t,{Cp:function(){return l},IX:function(){return o},JU:function(){return i},Ml:function(){return r},b1:function(){return n}});a(21703);var s=a(84471);async function r(e){const t=await s.Z.get("/system/user-file",{params:e});return 0===t.data.code&&t.data.data?t.data.data:Promise.reject(new Error(t.data.message))}async function n(e){const t=await s.Z.post("/system/user-file",e);return 0===t.data.code?t.data.message:Promise.reject(new Error(t.data.message))}async function i(e){const t=await s.Z.put("/system/user-file",e);return 0===t.data.code?t.data.message:Promise.reject(new Error(t.data.message))}async function o(e){const t=await s.Z["delete"]("/system/user-file/"+e);return 0===t.data.code?t.data.message:Promise.reject(new Error(t.data.message))}async function l(e){const t=await s.Z["delete"]("/system/user-file/batch",{data:e});return 0===t.data.code?t.data.message:Promise.reject(new Error(t.data.message))}}}]);