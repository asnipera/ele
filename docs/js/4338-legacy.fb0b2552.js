"use strict";(self["webpackChunkele_admin_template"]=self["webpackChunkele_admin_template"]||[]).push([[4338,151],{44338:function(e,t,n){n.r(t),n.d(t,{default:function(){return Wi}});n(68309);var i=function(){var e=this,t=e._self._c;return t("el-card",{attrs:{shadow:"never",header:"用户分布"}},[t("el-row",[t("el-col",e._b({},"el-col",e.styleResponsive?{sm:18}:{span:18},!1),[t("v-chart",{ref:"userCountMapChart",staticStyle:{height:"444px"},attrs:{option:e.userCountMapOption}})],1),t("el-col",e._b({},"el-col",e.styleResponsive?{sm:6}:{span:6},!1),[t("div",{staticStyle:{padding:"10px 5px 0 0"}},e._l(e.userCountDataRank,(function(n,i){return t("div",{key:i,staticClass:"monitor-user-count-item ele-cell"},[t("div",[e._v(e._s(n.name))]),t("div",{staticClass:"ele-cell-content"},[t("el-progress",{attrs:{"stroke-width":10,"show-text":!1,percentage:n.percent}})],1),t("div",[e._v(e._s(n.value))])])})),0)])],1)],1)},o=[],r=(n(2707),n(47042),n(21249),n(68023)),a=n(2352),s=n(91416),l=n(70655),u=n(69538),p=n(33051),c=n(23510),h=n(61158),g="\0_ec_interaction_mutex";function d(e,t){return!!f(e)[t]}function f(e){return e[g]||(e[g]={})}a.zl({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},p.ZT);var v=function(e){function t(t){var n=e.call(this)||this;n._zr=t;var i=(0,p.ak)(n._mousedownHandler,n),o=(0,p.ak)(n._mousemoveHandler,n),r=(0,p.ak)(n._mouseupHandler,n),a=(0,p.ak)(n._mousewheelHandler,n),s=(0,p.ak)(n._pinchHandler,n);return n.enable=function(e,n){this.disable(),this._opt=(0,p.ce)((0,p.d9)(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",i),t.on("mousemove",o),t.on("mouseup",r)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",a),t.on("pinch",s))},n.disable=function(){t.off("mousedown",i),t.off("mousemove",o),t.off("mouseup",r),t.off("mousewheel",a),t.off("pinch",s)},n}return(0,l.ZT)(t,e),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!(h.x1(e)||e.target&&e.target.draggable)){var t=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,n)&&(this._x=t,this._y=n,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&_("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!d(this._zr,"globalPan")){var t=e.offsetX,n=e.offsetY,i=this._x,o=this._y,r=t-i,a=n-o;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&h.sT(e.event),y(this,"pan","moveOnMouseMove",e,{dx:r,dy:a,oldX:i,oldY:o,newX:t,newY:n,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){h.x1(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var t=_("zoomOnMouseWheel",e,this._opt),n=_("moveOnMouseWheel",e,this._opt),i=e.wheelDelta,o=Math.abs(i),r=e.offsetX,a=e.offsetY;if(0!==i&&(t||n)){if(t){var s=o>3?1.4:o>1?1.2:1.1,l=i>0?s:1/s;m(this,"zoom","zoomOnMouseWheel",e,{scale:l,originX:r,originY:a,isAvailableBehavior:null})}if(n){var u=Math.abs(i),p=(i>0?1:-1)*(u>3?.4:u>1?.15:.05);m(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:p,originX:r,originY:a,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){if(!d(this._zr,"globalPan")){var t=e.pinchScale>1?1.1:1/1.1;m(this,"zoom",null,e,{scale:t,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t}(c.Z);function m(e,t,n,i,o){e.pointerChecker&&e.pointerChecker(i,o.originX,o.originY)&&(h.sT(i.event),y(e,t,n,i,o))}function y(e,t,n,i,o){o.isAvailableBehavior=(0,p.ak)(_,null,n,i),e.trigger(t,o)}function _(e,t,n){var i=n[e];return!e||i&&(!(0,p.HD)(i)||t.event[i+"Key"])}var S=v;function x(e,t,n){var i=e.target;i.x+=t,i.y+=n,i.dirty()}function w(e,t,n,i){var o=e.target,r=e.zoomLimit,a=e.zoom=e.zoom||1;if(a*=t,r){var s=r.min||0,l=r.max||1/0;a=Math.max(Math.min(l,a),s)}var u=a/e.zoom;e.zoom=a,o.x-=(n-o.x)*(u-1),o.y-=(i-o.y)*(u-1),o.scaleX*=u,o.scaleY*=u,o.dirty()}var b={axisPointer:1,tooltip:1,brush:1};function M(e,t,n){var i=t.getComponentByElement(e.topTarget),o=i&&i.coordinateSystem;return i&&i!==n&&!b.hasOwnProperty(i.mainType)&&o&&o.model!==n}var T,C=n(38154),I=n(29266),D=n(95094),R=n(62514),V=n(52776),k=n(38982),L=n(26357),O=n(44535),A=n(25293),P=n(92797),G=n(22095),Z=n(32892),z=n(80073),F=n(74438),N=n(36369),H=n(71505);function B(e){if((0,p.HD)(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}var n=e;9===n.nodeType&&(n=n.firstChild);while("svg"!==n.nodeName.toLowerCase()||1!==n.nodeType)n=n.nextSibling;return n}var E={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},U=(0,p.XP)(E),X={"alignment-baseline":"textBaseline","stop-color":"stopColor"},W=(0,p.XP)(X),Y=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(e,t){t=t||{};var n=B(e);this._defsUsePending=[];var i=new C.Z;this._root=i;var o=[],r=n.getAttribute("viewBox")||"",a=parseFloat(n.getAttribute("width")||t.width),s=parseFloat(n.getAttribute("height")||t.height);isNaN(a)&&(a=null),isNaN(s)&&(s=null),Q(n,i,null,!0,!1);var l,u,p=n.firstChild;while(p)this._parseNode(p,i,o,null,!1,!1),p=p.nextSibling;if(ie(this._defs,this._defsUsePending),this._defsUsePending=[],r){var c=re(r);c.length>=4&&(l={x:parseFloat(c[0]||0),y:parseFloat(c[1]||0),width:parseFloat(c[2]),height:parseFloat(c[3])})}if(l&&null!=a&&null!=s&&(u=he(l,{x:0,y:0,width:a,height:s}),!t.ignoreViewBox)){var h=i;i=new C.Z,i.add(h),h.scaleX=h.scaleY=u.scale,h.x=u.x,h.y=u.y}return t.ignoreRootClip||null==a||null==s||i.setClipPath(new A.Z({shape:{x:0,y:0,width:a,height:s}})),{root:i,width:a,height:s,viewBoxRect:l,viewBoxTransform:u,named:o}},e.prototype._parseNode=function(e,t,n,i,o,r){var a,s=e.nodeName.toLowerCase(),l=i;if("defs"===s&&(o=!0),"text"===s&&(r=!0),"defs"===s||"switch"===s)a=t;else{if(!o){var u=T[s];if(u&&(0,p.RI)(T,s)){a=u.call(this,e,t);var c=e.getAttribute("name");if(c){var h={name:c,namedFrom:null,svgNodeTagLower:s,el:a};n.push(h),"g"===s&&(l=h)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:s,el:a});t.add(a)}}var g=J[s];if(g&&(0,p.RI)(J,s)){var d=g.call(this,e),f=e.getAttribute("id");f&&(this._defs[f]=d)}}if(a&&a.isGroup){var v=e.firstChild;while(v)1===v.nodeType?this._parseNode(v,a,n,l,o,r):3===v.nodeType&&r&&this._parseText(v,a),v=v.nextSibling}},e.prototype._parseText=function(e,t){var n=new H.Z({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});$(t,n),Q(e,n,this._defsUsePending,!1,!1),ee(n,t);var i=n.style,o=i.fontSize;o&&o<9&&(i.fontSize=9,n.scaleX*=o/9,n.scaleY*=o/9);var r=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=r;var a=n.getBoundingRect();return this._textX+=a.width,t.add(n),n},e.internalField=function(){T={g:function(e,t){var n=new C.Z;return $(t,n),Q(e,n,this._defsUsePending,!1,!1),n},rect:function(e,t){var n=new A.Z;return $(t,n),Q(e,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(e,t){var n=new u.Z;return $(t,n),Q(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),n.silent=!0,n},line:function(e,t){var n=new G.Z;return $(t,n),Q(e,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(e,t){var n=new P.Z;return $(t,n),Q(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(e,t){var n,i=e.getAttribute("points");i&&(n=q(i));var o=new D.Z({shape:{points:n||[]},silent:!0});return $(t,o),Q(e,o,this._defsUsePending,!1,!1),o},polyline:function(e,t){var n,i=e.getAttribute("points");i&&(n=q(i));var o=new R.Z({shape:{points:n||[]},silent:!0});return $(t,o),Q(e,o,this._defsUsePending,!1,!1),o},image:function(e,t){var n=new O.ZP;return $(t,n),Q(e,n,this._defsUsePending,!1,!1),n.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),n.silent=!0,n},text:function(e,t){var n=e.getAttribute("x")||"0",i=e.getAttribute("y")||"0",o=e.getAttribute("dx")||"0",r=e.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(o),this._textY=parseFloat(i)+parseFloat(r);var a=new C.Z;return $(t,a),Q(e,a,this._defsUsePending,!1,!0),a},tspan:function(e,t){var n=e.getAttribute("x"),i=e.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=i&&(this._textY=parseFloat(i));var o=e.getAttribute("dx")||"0",r=e.getAttribute("dy")||"0",a=new C.Z;return $(t,a),Q(e,a,this._defsUsePending,!1,!0),this._textX+=parseFloat(o),this._textY+=parseFloat(r),a},path:function(e,t){var n=e.getAttribute("d")||"",i=(0,z.iR)(n);return $(t,i),Q(e,i,this._defsUsePending,!1,!1),i.silent=!0,i}}}(),e}(),J={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10),n=parseInt(e.getAttribute("y1")||"0",10),i=parseInt(e.getAttribute("x2")||"10",10),o=parseInt(e.getAttribute("y2")||"0",10),r=new F.Z(t,n,i,o);return j(e,r),K(e,r),r},radialgradient:function(e){var t=parseInt(e.getAttribute("cx")||"0",10),n=parseInt(e.getAttribute("cy")||"0",10),i=parseInt(e.getAttribute("r")||"0",10),o=new N.Z(t,n,i);return j(e,o),K(e,o),o}};function j(e,t){var n=e.getAttribute("gradientUnits");"userSpaceOnUse"===n&&(t.global=!0)}function K(e,t){var n=e.firstChild;while(n){if(1===n.nodeType&&"stop"===n.nodeName.toLocaleLowerCase()){var i=n.getAttribute("offset"),o=void 0;o=i&&i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var r={};pe(n,r,r);var a=r.stopColor||n.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:o,color:a})}n=n.nextSibling}}function $(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),(0,p.ce)(t.__inheritedStyle,e.__inheritedStyle))}function q(e){for(var t=re(e),n=[],i=0;i<t.length;i+=2){var o=parseFloat(t[i]),r=parseFloat(t[i+1]);n.push([o,r])}return n}function Q(e,t,n,i,o){var r=t,a=r.__inheritedStyle=r.__inheritedStyle||{},s={};1===e.nodeType&&(le(e,t),pe(e,a,s),i||ce(e,a,s)),r.style=r.style||{},null!=a.fill&&(r.style.fill=ne(r,"fill",a.fill,n)),null!=a.stroke&&(r.style.stroke=ne(r,"stroke",a.stroke,n)),(0,p.S6)(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(e){null!=a[e]&&(r.style[e]=parseFloat(a[e]))})),(0,p.S6)(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(e){null!=a[e]&&(r.style[e]=a[e])})),o&&(r.__selfStyle=s),a.lineDash&&(r.style.lineDash=(0,p.UI)(re(a.lineDash),(function(e){return parseFloat(e)}))),"hidden"!==a.visibility&&"collapse"!==a.visibility||(r.invisible=!0),"none"===a.display&&(r.ignore=!0)}function ee(e,t){var n=t.__selfStyle;if(n){var i=n.textBaseline,o=i;i&&"auto"!==i?"baseline"===i?o="alphabetic":"before-edge"===i||"text-before-edge"===i?o="top":"after-edge"===i||"text-after-edge"===i?o="bottom":"central"!==i&&"mathematical"!==i||(o="middle"):o="alphabetic",e.style.textBaseline=o}var r=t.__inheritedStyle;if(r){var a=r.textAlign,s=a;a&&("middle"===a&&(s="center"),e.style.textAlign=s)}}var te=/^url\(\s*#(.*?)\)/;function ne(e,t,n,i){var o=n&&n.match(te);if(!o)return"none"===n&&(n=null),n;var r=(0,p.fy)(o[1]);i.push([e,t,r])}function ie(e,t){for(var n=0;n<t.length;n++){var i=t[n];i[0].style[i[1]]=e[i[2]]}}var oe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function re(e){return e.match(oe)||[]}var ae=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,se=Math.PI/180;function le(e,t){var n=e.getAttribute("transform");if(n){n=n.replace(/,/g," ");var i=[],o=null;n.replace(ae,(function(e,t,n){return i.push(t,n),""}));for(var r=i.length-1;r>0;r-=2){var a=i[r],s=i[r-1],l=re(a);switch(o=o||Z.Ue(),s){case"translate":Z.Iu(o,o,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":Z.bA(o,o,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Z.U1(o,o,-parseFloat(l[0])*se);break;case"skewX":var u=Math.tan(parseFloat(l[0])*se);Z.dC(o,[1,0,u,1,0,0],o);break;case"skewY":var p=Math.tan(parseFloat(l[0])*se);Z.dC(o,[1,p,0,1,0,0],o);break;case"matrix":o[0]=parseFloat(l[0]),o[1]=parseFloat(l[1]),o[2]=parseFloat(l[2]),o[3]=parseFloat(l[3]),o[4]=parseFloat(l[4]),o[5]=parseFloat(l[5]);break}}t.setLocalTransform(o)}}var ue=/([^\s:;]+)\s*:\s*([^:;]+)/g;function pe(e,t,n){var i=e.getAttribute("style");if(i){var o;ue.lastIndex=0;while(null!=(o=ue.exec(i))){var r=o[1],a=(0,p.RI)(E,r)?E[r]:null;a&&(t[a]=o[2]);var s=(0,p.RI)(X,r)?X[r]:null;s&&(n[s]=o[2])}}}function ce(e,t,n){for(var i=0;i<U.length;i++){var o=U[i],r=e.getAttribute(o);null!=r&&(t[E[o]]=r)}for(i=0;i<W.length;i++){o=W[i],r=e.getAttribute(o);null!=r&&(n[X[o]]=r)}}function he(e,t){var n=t.width/e.width,i=t.height/e.height,o=Math.min(n,i);return{scale:o,x:-(e.x+e.width/2)*o+(t.x+t.width/2),y:-(e.y+e.height/2)*o+(t.y+t.height/2)}}function ge(e,t){var n=new Y;return n.parse(e,t)}var de=n(60479),fe=n(45280),ve=n(47637),me=1e-8;function ye(e,t){return Math.abs(e-t)<me}function _e(e,t,n){var i=0,o=e[0];if(!o)return!1;for(var r=1;r<e.length;r++){var a=e[r];i+=(0,ve.Z)(o[0],o[1],a[0],a[1],t,n),o=a}var s=e[0];return ye(o[0],s[0])&&ye(o[1],s[1])||(i+=(0,ve.Z)(o[0],o[1],s[0],s[1],t,n)),0!==i}var Se=[];function xe(e,t){for(var n=0;n<e.length;n++)fe.Ne(e[n],e[n],t)}function we(e,t,n,i){for(var o=0;o<e.length;o++){var r=e[o];i&&(r=i.project(r)),r&&isFinite(r[0])&&isFinite(r[1])&&(fe.VV(t,t,r),fe.Fp(n,n,r))}}function be(e){for(var t=0,n=0,i=0,o=e.length,r=e[o-1][0],a=e[o-1][1],s=0;s<o;s++){var l=e[s][0],u=e[s][1],p=r*u-l*a;t+=p,n+=(r+l)*p,i+=(a+u)*p,r=l,a=u}return t?[n/t/3,i/t/3,t]:[e[0][0]||0,e[0][1]||0]}var Me=function(){function e(e){this.name=e}return e.prototype.setCenter=function(e){this._center=e},e.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},e}(),Te=function(){function e(e,t){this.type="polygon",this.exterior=e,this.interiors=t}return e}(),Ce=function(){function e(e){this.type="linestring",this.points=e}return e}(),Ie=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.type="geoJSON",o.geometries=n,o._center=i&&[i[0],i[1]],o}return(0,l.ZT)(t,e),t.prototype.calcCenter=function(){for(var e,t=this.geometries,n=0,i=0;i<t.length;i++){var o=t[i],r=o.exterior,a=r&&r.length;a>n&&(e=o,n=a)}if(e)return be(e.exterior);var s=this.getBoundingRect();return[s.x+s.width/2,s.y+s.height/2]},t.prototype.getBoundingRect=function(e){var t=this._rect;if(t&&!e)return t;var n=[1/0,1/0],i=[-1/0,-1/0],o=this.geometries;return(0,p.S6)(o,(function(t){"polygon"===t.type?we(t.exterior,n,i,e):(0,p.S6)(t.points,(function(t){we(t,n,i,e)}))})),isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])||(n[0]=n[1]=i[0]=i[1]=0),t=new de.Z(n[0],n[1],i[0]-n[0],i[1]-n[1]),e||(this._rect=t),t},t.prototype.contain=function(e){var t=this.getBoundingRect(),n=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var i=0,o=n.length;i<o;i++){var r=n[i];if("polygon"===r.type){var a=r.exterior,s=r.interiors;if(_e(a,e[0],e[1])){for(var l=0;l<(s?s.length:0);l++)if(_e(s[l],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,t,n,i){var o=this.getBoundingRect(),r=o.width/o.height;n?i||(i=n/r):n=r*i;for(var a=new de.Z(e,t,n,i),s=o.calculateTransform(a),l=this.geometries,u=0;u<l.length;u++){var c=l[u];"polygon"===c.type?(xe(c.exterior,s),(0,p.S6)(c.interiors,(function(e){xe(e,s)}))):(0,p.S6)(c.points,(function(e){xe(e,s)}))}o=this._rect,o.copy(a),this._center=[o.x+o.width/2,o.y+o.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var n=new t(e,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},t}(Me),De=function(e){function t(t,n){var i=e.call(this,t)||this;return i.type="geoSVG",i._elOnlyForCalculate=n,i}return(0,l.ZT)(t,e),t.prototype.calcCenter=function(){var e=this._elOnlyForCalculate,t=e.getBoundingRect(),n=[t.x+t.width/2,t.y+t.height/2],i=Z.yR(Se),o=e;while(o&&!o.isGeoSVGGraphicRoot)Z.dC(i,o.getLocalTransform(),i),o=o.parent;return Z.U_(i,i),fe.Ne(n,n,i),n},t}(Me),Re=(0,p.kW)(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Ve=function(){function e(e,t){this.type="geoSVG",this._usedGraphicMap=(0,p.kW)(),this._freedGraphics=[],this._mapName=e,this._parsedXML=B(t)}return e.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=Le(e.named),n=t.regions,i=t.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(e){var t,n;try{t=e&&ge(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},n=t.root,(0,p.hu)(null!=n)}catch(v){throw new Error("Invalid svg format\n"+v.message)}var i=new C.Z;i.add(n),i.isGeoSVGGraphicRoot=!0;var o=t.width,r=t.height,a=t.viewBoxRect,s=this._boundingRect;if(!s){var l=void 0,u=void 0,c=void 0,h=void 0;if(null!=o?(l=0,c=o):a&&(l=a.x,c=a.width),null!=r?(u=0,h=r):a&&(u=a.y,h=a.height),null==l||null==u){var g=n.getBoundingRect();null==l&&(l=g.x,c=g.width),null==u&&(u=g.y,h=g.height)}s=this._boundingRect=new de.Z(l,u,c,h)}if(a){var d=he(a,s);n.scaleX=n.scaleY=d.scale,n.x=d.x,n.y=d.y}i.setClipPath(new A.Z({shape:s.plain()}));var f=[];return(0,p.S6)(t.named,(function(e){null!=Re.get(e.svgNodeTagLower)&&(f.push(e),ke(e.el))})),{root:i,boundingRect:s,named:f}},e.prototype.useGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,n),n)},e.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);n&&(t.removeKey(e),this._freedGraphics.push(n))},e}();function ke(e){e.silent=!1,e.isGroup&&e.traverse((function(e){e.silent=!1}))}function Le(e){var t=[],n=(0,p.kW)();return(0,p.S6)(e,(function(e){if(null==e.namedFrom){var i=new De(e.name,e.el);t.push(i),n.set(e.name,i)}})),{regions:t,regionsMap:n}}function Oe(e){if(!e.UTF8Encoding)return e;var t=e,n=t.UTF8Scale;null==n&&(n=1024);var i=t.features;return p.S6(i,(function(e){var t=e.geometry,i=t.encodeOffsets,o=t.coordinates;if(i)switch(t.type){case"LineString":t.coordinates=Pe(o,i,n);break;case"Polygon":Ae(o,i,n);break;case"MultiLineString":Ae(o,i,n);break;case"MultiPolygon":p.S6(o,(function(e,t){return Ae(e,i[t],n)}))}})),t.UTF8Encoding=!1,t}function Ae(e,t,n){for(var i=0;i<e.length;i++)e[i]=Pe(e[i],t[i],n)}function Pe(e,t,n){for(var i=[],o=t[0],r=t[1],a=0;a<e.length;a+=2){var s=e.charCodeAt(a)-64,l=e.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),s+=o,l+=r,o=s,r=l,i.push([s/n,l/n])}return i}function Ge(e,t){return e=Oe(e),p.UI(p.hX(e.features,(function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0})),(function(e){var n=e.properties,i=e.geometry,o=[];switch(i.type){case"Polygon":var r=i.coordinates;o.push(new Te(r[0],r.slice(1)));break;case"MultiPolygon":p.S6(i.coordinates,(function(e){e[0]&&o.push(new Te(e[0],e.slice(1)))}));break;case"LineString":o.push(new Ce([i.coordinates]));break;case"MultiLineString":o.push(new Ce(i.coordinates))}var a=new Ie(n[t||"name"],o,n.cp);return a.properties=n,a}))}for(var Ze=[126,25],ze="南海诸岛",Fe=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Ne=0;Ne<Fe.length;Ne++)for(var He=0;He<Fe[Ne].length;He++)Fe[Ne][He][0]/=10.5,Fe[Ne][He][1]/=-14,Fe[Ne][He][0]+=Ze[0],Fe[Ne][He][1]+=Ze[1];function Be(e,t){if("china"===e){for(var n=0;n<t.length;n++)if(t[n].name===ze)return;t.push(new Ie(ze,p.UI(Fe,(function(e){return{type:"polygon",exterior:e}})),Ze))}}var Ee={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};function Ue(e,t){if("china"===e){var n=Ee[t.name];if(n){var i=t.getCenter();i[0]+=n[0]/10.5,i[1]+=-n[1]/14,t.setCenter(i)}}}var Xe=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function We(e,t){"china"===e&&"台湾"===t.name&&t.geometries.push({type:"polygon",exterior:Xe[0]})}var Ye="name",Je=function(){function e(e,t,n){this.type="geoJSON",this._parsedMap=(0,p.kW)(),this._mapName=e,this._specialAreas=n,this._geoJSON=Ke(t)}return e.prototype.load=function(e,t){t=t||Ye;var n=this._parsedMap.get(t);if(!n){var i=this._parseToRegions(t);n=this._parsedMap.set(t,{regions:i,boundingRect:je(i)})}var o=(0,p.kW)(),r=[];return(0,p.S6)(n.regions,(function(t){var n=t.name;e&&(0,p.RI)(e,n)&&(t=t.cloneShallow(n=e[n])),r.push(t),o.set(n,t)})),{regions:r,boundingRect:n.boundingRect||new de.Z(0,0,0,0),regionsMap:o}},e.prototype._parseToRegions=function(e){var t,n=this._mapName,i=this._geoJSON;try{t=i?Ge(i,e):[]}catch(o){throw new Error("Invalid geoJson format\n"+o.message)}return Be(n,t),(0,p.S6)(t,(function(e){var t=e.name;Ue(n,e),We(n,e);var i=this._specialAreas&&this._specialAreas[t];i&&e.transformTo(i.left,i.top,i.width,i.height)}),this),t},e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e}();function je(e){for(var t,n=0;n<e.length;n++){var i=e[n].getBoundingRect();t=t||i.clone(),t.union(i)}return t}function Ke(e){return(0,p.HD)(e)?"undefined"!==typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e}var $e=(0,p.kW)(),qe={registerMap:function(e,t,n){if(t.svg){var i=new Ve(e,t.svg);$e.set(e,i)}else{var o=t.geoJson||t.geoJSON;o&&!t.features?n=t.specialAreas:o=t;i=new Je(e,o,n);$e.set(e,i)}},getGeoResource:function(e){return $e.get(e)},getMapForUser:function(e){var t=$e.get(e);return t&&"geoJSON"===t.type&&t.getMapForUser()},load:function(e,t,n){var i=$e.get(e);if(i)return i.load(t,n)}},Qe=n(42151),et=n(36006),tt=n(30106),nt=n(630),it=n(7719),ot=n(32234),rt=["rect","circle","line","ellipse","polygon","polyline","path"],at=p.kW(rt),st=p.kW(rt.concat(["g"])),lt=p.kW(rt.concat(["g"])),ut=(0,ot.Yf)();function pt(e){var t=e.getItemStyle(),n=e.get("areaColor");return null!=n&&(t.fill=n),t}function ct(e){var t=e.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var ht=function(){function e(e){var t=new C.Z;this.uid=(0,Qe.Kr)("ec_map_draw"),this._controller=new S(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new C.Z),t.add(this._svgGroup=new C.Z)}return e.prototype.draw=function(e,t,n,i,o){var r="geo"===e.mainType,a=e.getData&&e.getData();r&&t.eachComponent({mainType:"series",subType:"map"},(function(t){a||t.getHostGeoModel()!==e||(a=t.getData())}));var s=e.coordinateSystem,l=this._regionsGroup,u=this.group,p=s.getTransformInfo(),c=p.raw,h=p.roam,g=!l.childAt(0)||o;g?(u.x=h.x,u.y=h.y,u.scaleX=h.scaleX,u.scaleY=h.scaleY,u.dirty()):I.D(u,h,e);var d=a&&a.getVisual("visualMeta")&&a.getVisual("visualMeta").length>0,f={api:n,geo:s,mapOrGeoModel:e,data:a,isVisualEncodedByVisualMap:d,isGeo:r,transformInfoRaw:c};"geoJSON"===s.resourceType?this._buildGeoJSON(f):"geoSVG"===s.resourceType&&this._buildSVG(f),this._updateController(e,t,n),this._updateMapSelectHandler(e,l,n,i)},e.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=p.kW(),n=p.kW(),i=this._regionsGroup,o=e.transformInfoRaw,r=e.mapOrGeoModel,a=e.data,s=e.geo.projection,l=s&&s.stream;function u(e,t){return t&&(e=t(e)),e&&[e[0]*o.scaleX+o.x,e[1]*o.scaleY+o.y]}function c(e){for(var t=[],n=!l&&s&&s.project,i=0;i<e.length;++i){var o=u(e[i],n);o&&t.push(o)}return t}function h(e){return{shape:{points:c(e)}}}i.removeAll(),p.S6(e.geo.regions,(function(o){var c=o.name,g=t.get(c),d=n.get(c)||{},f=d.dataIdx,v=d.regionModel;g||(g=t.set(c,new C.Z),i.add(g),f=a?a.indexOfName(c):null,v=e.isGeo?r.getRegionModel(c):a?a.getItemModel(f):null,n.set(c,{dataIdx:f,regionModel:v}));var m=[],y=[];p.S6(o.geometries,(function(e){if("polygon"===e.type){var t=[e.exterior].concat(e.interiors||[]);l&&(t=yt(t,l)),p.S6(t,(function(e){m.push(new D.Z(h(e)))}))}else{var n=e.points;l&&(n=yt(n,l,!0)),p.S6(n,(function(e){y.push(new R.Z(h(e)))}))}}));var _=u(o.getCenter(),s&&s.project);function S(t,n){if(t.length){var i=new V.Z({culling:!0,segmentIgnoreThreshold:1,shape:{paths:t}});g.add(i),gt(e,i,f,v),dt(e,i,c,v,r,f,_),n&&(ct(i),p.S6(i.states,ct))}}S(m),S(y,!0)})),t.each((function(t,i){var o=n.get(i),a=o.dataIdx,s=o.regionModel;ft(e,t,i,s,r,a),vt(e,t,i,s,r),mt(e,t,i,s,r)}),this)},e.prototype._buildSVG=function(e){var t=e.geo.map,n=e.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var i=this._svgDispatcherMap=p.kW(),o=!1;p.S6(this._svgGraphicRecord.named,(function(t){var n=t.name,r=e.mapOrGeoModel,a=e.data,s=t.svgNodeTagLower,l=t.el,u=a?a.indexOfName(n):null,p=r.getRegionModel(n);if(null!=at.get(s)&&l instanceof it.ZP&&gt(e,l,u,p),l instanceof it.ZP&&(l.culling=!0),l.z2EmphasisLift=0,!t.namedFrom&&(null!=lt.get(s)&&dt(e,l,n,p,r,u,null),ft(e,l,n,p,r,u),vt(e,l,n,p,r),null!=st.get(s))){var c=mt(e,l,n,p,r);"self"===c&&(o=!0);var h=i.get(n)||i.set(n,[]);h.push(l)}}),this),this._enableBlurEntireSVG(o,e)},e.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var n=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=n.opacity;this._svgGraphicRecord.root.traverse((function(e){if(!e.isGroup){(0,L.MA)(e);var t=e.ensureState("blur").style||{};null==t.opacity&&null!=i&&(t.opacity=i),e.ensureState("emphasis")}}))}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(e,t){if(null==e)return[];var n=t.coordinateSystem;if("geoJSON"===n.resourceType){var i=this._regionsGroupByName;if(i){var o=i.get(e);return o?[o]:[]}}else if("geoSVG"===n.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},e.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},e.prototype._useSVG=function(e){var t=qe.getGeoResource(e);if(t&&"geoSVG"===t.type){var n=t.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=e}},e.prototype._freeSVG=function(){var e=this._svgMapName;if(null!=e){var t=qe.getGeoResource(e);t&&"geoSVG"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(e,t,n){var i=e.coordinateSystem,o=this._controller,r=this._controllerHost;r.zoomLimit=e.get("scaleLimit"),r.zoom=i.getZoom(),o.enable(e.get("roam")||!1);var a=e.mainType;function s(){var t={type:"geoRoam",componentType:a};return t[a+"Id"]=e.id,t}o.off("pan").on("pan",(function(e){this._mouseDownFlag=!1,x(r,e.dx,e.dy),n.dispatchAction(p.l7(s(),{dx:e.dx,dy:e.dy,animation:{duration:0}}))}),this),o.off("zoom").on("zoom",(function(e){this._mouseDownFlag=!1,w(r,e.scale,e.originX,e.originY),n.dispatchAction(p.l7(s(),{zoom:e.scale,originX:e.originX,originY:e.originY,animation:{duration:0}}))}),this),o.setPointerChecker((function(t,o,r){return i.containPoint([o,r])&&!M(t,n,e)}))},e.prototype.resetForLabelLayout=function(){this.group.traverse((function(e){var t=e.getTextContent();t&&(t.ignore=ut(t).ignore)}))},e.prototype._updateMapSelectHandler=function(e,t,n,i){var o=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",(function(){o._mouseDownFlag=!0})),t.on("click",(function(e){o._mouseDownFlag&&(o._mouseDownFlag=!1)})))},e}();function gt(e,t,n,i){var o=i.getModel("itemStyle"),r=i.getModel(["emphasis","itemStyle"]),a=i.getModel(["blur","itemStyle"]),s=i.getModel(["select","itemStyle"]),l=pt(o),u=pt(r),p=pt(s),c=pt(a),h=e.data;if(h){var g=h.getItemVisual(n,"style"),d=h.getItemVisual(n,"decal");e.isVisualEncodedByVisualMap&&g.fill&&(l.fill=g.fill),d&&(l.decal=(0,nt.I)(d,e.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=p,t.ensureState("blur").style=c,(0,L.MA)(t)}function dt(e,t,n,i,o,r,a){var s=e.data,l=e.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),r)),p=s&&s.getItemLayout(r);if(l||u||p&&p.showLabel){var c=l?n:r,h=void 0;(!s||r>=0)&&(h=o);var g=a?{normal:{align:"center",verticalAlign:"middle"}}:null;(0,et.ni)(t,(0,et.k3)(i),{labelFetcher:h,labelDataIndex:c,defaultText:n},g);var d=t.getTextContent();if(d&&(ut(d).ignore=d.ignore,t.textConfig&&a)){var f=t.getBoundingRect().clone();t.textConfig.layoutRect=f,t.textConfig.position=[(a[0]-f.x)/f.width*100+"%",(a[1]-f.y)/f.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function ft(e,t,n,i,o,r){e.data?e.data.setItemGraphicEl(r,t):(0,tt.A)(t).eventData={componentType:"geo",componentIndex:o.componentIndex,geoIndex:o.componentIndex,name:n,region:i&&i.option||{}}}function vt(e,t,n,i,o){e.data||k.setTooltipConfig({el:t,componentModel:o,itemName:n,itemTooltipOption:i.get("tooltip")})}function mt(e,t,n,i,o){t.highDownSilentOnTouch=!!o.get("selectedMode");var r=i.getModel("emphasis"),a=r.get("focus");return(0,L.k5)(t,a,r.get("blurScope"),r.get("disabled")),e.isGeo&&(0,L.th)(t,o,n),a}function yt(e,t,n){var i,o=[];function r(){i=[]}function a(){i.length&&(o.push(i),i=[])}var s=t({polygonStart:r,polygonEnd:a,lineStart:r,lineEnd:a,point:function(e,t){isFinite(e)&&isFinite(t)&&i.push([e,t])},sphere:function(){}});return!n&&s.polygonStart(),p.S6(e,(function(e){s.lineStart();for(var t=0;t<e.length;t++)s.point(e[t][0],e[t][1]);s.lineEnd()})),!n&&s.polygonEnd(),o}var _t=ht,St=n(75797),xt=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,l.ZT)(t,e),t.prototype.render=function(e,t,n,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&i&&"geoRoam"===i.type&&this._mapDraw.resetForLabelLayout(),i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===e.id){r=this._mapDraw;r&&o.add(r.group)}else if(e.needsDrawMap){var r=this._mapDraw||new _t(n);o.add(r.group),r.draw(e,t,n,this,i),this._mapDraw=r}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,t,n){var i=e.originalData,o=this.group;i.each(i.mapDimension("value"),(function(t,n){if(!isNaN(t)){var r=i.getItemLayout(n);if(r&&r.point){var a=r.point,s=r.offset,l=new u.Z({style:{fill:e.getData().getVisual("style").fill},shape:{cx:a[0]+9*s,cy:a[1],r:3},silent:!0,z2:8+(s?0:L.zr+1)});if(!s){var p=e.mainSeries.getData(),c=i.getName(n),h=p.indexOfName(c),g=i.getItemModel(n),d=g.getModel("label"),f=p.getItemGraphicEl(h);(0,et.ni)(l,(0,et.k3)(g),{labelFetcher:{getFormattedLabel:function(t,n){return e.getFormattedLabel(h,n)}},defaultText:c}),l.disableLabelAnimation=!0,d.get("position")||l.setTextConfig({position:"bottom"}),f.onHoverStateChange=function(e){(0,L.Gl)(l,e)}}o.add(l)}}}))},t.type="map",t}(St.Z),wt=xt,bt=n(30090),Mt=n(74717),Tt=n(61772),Ct=n(5685),It=n(41525),Dt=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(e){if(null!=e){var t=this.getData().getName(e),n=this.coordinateSystem,i=n.getRegion(t);return i&&n.dataToPoint(i.getCenter())}},n}return(0,l.ZT)(t,e),t.prototype.getInitialData=function(e){for(var t=(0,bt.Z)(this,{coordDimensions:["value"],encodeDefaulter:p.WA(Tt.Ss,this)}),n=p.kW(),i=[],o=0,r=t.count();o<r;o++){var a=t.getName(o);n.set(a,!0)}var s=qe.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return p.S6(s.regions,(function(e){var t=e.name;n.get(t)||i.push(t)})),t.appendValues([],i),t},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},t.prototype.formatTooltip=function(e,t,n){for(var i=this.getData(),o=this.getRawValue(e),r=i.getName(e),a=this.seriesGroup,s=[],l=0;l<a.length;l++){var u=a[l].originalData.indexOfName(r),p=i.mapDimension("value");isNaN(a[l].originalData.get(p,u))||s.push(a[l].name)}return(0,Ct.TX)("section",{header:s.join(", "),noHeader:!s.length,blocks:[(0,Ct.TX)("nameValue",{name:r,value:o})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var t=e.icon||"roundRect",n=(0,It.th)(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return n.setStyle(e.itemStyle),n.style.stroke="none",t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(Mt.Z),Rt=Dt;function Vt(e,t){var n={};return p.S6(e,(function(e){e.each(e.mapDimension("value"),(function(t,i){var o="ec-"+e.getName(i);n[o]=n[o]||[],isNaN(t)||n[o].push(t)}))})),e[0].map(e[0].mapDimension("value"),(function(i,o){for(var r,a="ec-"+e[0].getName(o),s=0,l=1/0,u=-1/0,p=n[a].length,c=0;c<p;c++)l=Math.min(l,n[a][c]),u=Math.max(u,n[a][c]),s+=n[a][c];return r="min"===t?l:"max"===t?u:"average"===t?s/p:s,0===p?NaN:r}))}function kt(e){var t={};e.eachSeriesByType("map",(function(e){var n=e.getHostGeoModel(),i=n?"o"+n.id:"i"+e.getMapType();(t[i]=t[i]||[]).push(e)})),p.S6(t,(function(e,t){for(var n=Vt(p.UI(e,(function(e){return e.getData()})),e[0].get("mapValueCalculation")),i=0;i<e.length;i++)e[i].originalData=e[i].getData();for(i=0;i<e.length;i++)e[i].seriesGroup=e,e[i].needsDrawMap=0===i&&!e[i].getHostGeoModel(),e[i].setData(n.cloneShallow()),e[i].mainSeries=e[0]}))}function Lt(e){var t={};e.eachSeriesByType("map",(function(n){var i=n.getMapType();if(!n.getHostGeoModel()&&!t[i]){var o={};p.S6(n.seriesGroup,(function(t){var n=t.coordinateSystem,i=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&i.each(i.mapDimension("value"),(function(e,t){var r=i.getName(t),a=n.getRegion(r);if(a&&!isNaN(e)){var s=o[r]||0,l=n.dataToPoint(a.getCenter());o[r]=s+1,i.setItemLayout(t,{point:l,offset:s})}}))}));var r=n.getData();r.each((function(e){var t=r.getName(e),n=r.getItemLayout(e)||{};n.showLabel=!o[t],r.setItemLayout(e,n)})),t[i]=!0}}))}var Ot=n(31891),At=n(98071),Pt=n(12312),Gt=n(87411),Zt=n(85669),zt=fe.Ne,Ft=function(e){function t(t){var n=e.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new Gt.ZP,n._rawTransformable=new Gt.ZP,n.name=t,n}return(0,l.ZT)(t,e),t.prototype.setBoundingRect=function(e,t,n,i){return this._rect=new de.Z(e,t,n,i),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,t,n,i){this._transformTo(e,t,n,i),this._viewRect=new de.Z(e,t,n,i)},t.prototype._transformTo=function(e,t,n,i){var o=this.getBoundingRect(),r=this._rawTransformable;r.transform=o.calculateTransform(new de.Z(e,t,n,i));var a=r.parent;r.parent=null,r.decomposeTransform(),r.parent=a,this._updateTransform()},t.prototype.setCenter=function(e,t){e&&(this._center=[(0,Zt.GM)(e[0],t.getWidth()),(0,Zt.GM)(e[1],t.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect(),t=e.x+e.width/2,n=e.y+e.height/2;return[t,n]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),o=this.getZoom();i=fe.Ne([],i,e),n=fe.Ne([],n,e),t.originX=i[0],t.originY=i[1],t.x=n[0]-i[0],t.y=n[1]-i[1],t.scaleX=t.scaleY=o,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),Z.JG(this.transform||(this.transform=[]),t.transform||Z.Ue()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],Z.U_(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,t=this._roamTransformable,n=new Gt.ZP;return n.transform=t.transform,n.decomposeTransform(),{roam:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,t,n){var i=t?this._rawTransform:this.transform;return n=n||[],i?zt(n,e,i):fe.JG(n,e)},t.prototype.pointToData=function(e){var t=this.invTransform;return t?zt([],e,t):[e[0],e[1]]},t.prototype.convertToPixel=function(e,t,n){var i=Nt(t);return i===this?i.dataToPoint(n):null},t.prototype.convertFromPixel=function(e,t,n){var i=Nt(t);return i===this?i.pointToData(n):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(Gt.ZP);function Nt(e){var t=e.seriesModel;return t?t.coordinateSystem:null}var Ht=Ft,Bt={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},Et=["lng","lat"],Ut=function(e){function t(t,n,i){var o=e.call(this,t)||this;o.dimensions=Et,o.type="geo",o._nameCoordMap=p.kW(),o.map=n;var r,a=i.projection,s=qe.load(n,i.nameMap,i.nameProperty),l=qe.getGeoResource(n),u=(o.resourceType=l?l.type:null,o.regions=s.regions),c=Bt[l.type];if(o._regionsMap=s.regionsMap,o.regions=s.regions,o.projection=a,a)for(var h=0;h<u.length;h++){var g=u[h].getBoundingRect(a);r=r||g.clone(),r.union(g)}else r=s.boundingRect;return o.setBoundingRect(r.x,r.y,r.width,r.height),o.aspectScale=a?1:p.pD(i.aspectScale,c.aspectScale),o._invertLongitute=!a&&c.invertLongitute,o}return(0,l.ZT)(t,e),t.prototype._transformTo=function(e,t,n,i){var o=this.getBoundingRect(),r=this._invertLongitute;o=o.clone(),r&&(o.y=-o.y-o.height);var a=this._rawTransformable;a.transform=o.calculateTransform(new de.Z(e,t,n,i));var s=a.parent;a.parent=null,a.decomposeTransform(),a.parent=s,r&&(a.scaleY=-a.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var t=this.regions,n=0;n<t.length;n++){var i=t[n];if("geoJSON"===i.type&&i.contain(e))return t[n]}},t.prototype.addGeoCoord=function(e,t){this._nameCoordMap.set(e,t)},t.prototype.getGeoCoord=function(e){var t=this._regionsMap.get(e);return this._nameCoordMap.get(e)||t&&t.getCenter()},t.prototype.dataToPoint=function(e,t,n){if(p.HD(e)&&(e=this.getGeoCoord(e)),e){var i=this.projection;return i&&(e=i.project(e)),e&&this.projectedToPoint(e,t,n)}},t.prototype.pointToData=function(e){var t=this.projection;return t&&(e=t.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(t){return e.prototype.pointToData.call(this,t)},t.prototype.projectedToPoint=function(t,n,i){return e.prototype.dataToPoint.call(this,t,n,i)},t.prototype.convertToPixel=function(e,t,n){var i=Xt(t);return i===this?i.dataToPoint(n):null},t.prototype.convertFromPixel=function(e,t,n){var i=Xt(t);return i===this?i.pointToData(n):null},t}(Ht);function Xt(e){var t=e.geoModel,n=e.seriesModel;return t?t.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",ot.C6).models[0]||{}).coordinateSystem:null}p.jB(Ut,Ht);var Wt=Ut,Yt=n(76172);function Jt(e,t){var n=e.get("boundingCoords");if(null!=n){var i=n[0],o=n[1];if(isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])){var r=this.projection;if(r){var a=i[0],s=i[1],l=o[0],u=o[1];i=[1/0,1/0],o=[-1/0,-1/0];var p=function(e,t,n,a){for(var s=n-e,l=a-t,u=0;u<=100;u++){var p=u/100,c=r.project([e+s*p,t+l*p]);fe.VV(i,i,c),fe.Fp(o,o,c)}};p(a,s,l,s),p(l,s,l,u),p(l,u,a,u),p(a,u,l,s)}this.setBoundingRect(i[0],i[1],o[0]-i[0],o[1]-i[1])}else 0}var c,h,g,d=this.getBoundingRect(),f=e.get("layoutCenter"),v=e.get("layoutSize"),m=t.getWidth(),y=t.getHeight(),_=d.width/d.height*this.aspectScale,S=!1;if(f&&v&&(c=[Zt.GM(f[0],m),Zt.GM(f[1],y)],h=Zt.GM(v,Math.min(m,y)),isNaN(c[0])||isNaN(c[1])||isNaN(h)||(S=!0)),S)g={},_>1?(g.width=h,g.height=h/_):(g.height=h,g.width=h*_),g.y=c[1]-g.height/2,g.x=c[0]-g.width/2;else{var x=e.getBoxLayoutParams();x.aspect=_,g=Yt.ME(x,{width:m,height:y})}this.setViewRect(g.x,g.y,g.width,g.height),this.setCenter(e.get("center"),t),this.setZoom(e.get("zoom"))}function jt(e,t){p.S6(t.get("geoCoord"),(function(t,n){e.addGeoCoord(n,t)}))}var Kt=function(){function e(){this.dimensions=Et}return e.prototype.create=function(e,t){var n=[];function i(e){return{nameProperty:e.get("nameProperty"),aspectScale:e.get("aspectScale"),projection:e.get("projection")}}e.eachComponent("geo",(function(e,o){var r=e.get("map"),a=new Wt(r+o,r,p.l7({nameMap:e.get("nameMap")},i(e)));a.zoomLimit=e.get("scaleLimit"),n.push(a),e.coordinateSystem=a,a.model=e,a.resize=Jt,a.resize(e,t)})),e.eachSeries((function(e){var t=e.get("coordinateSystem");if("geo"===t){var i=e.get("geoIndex")||0;e.coordinateSystem=n[i]}}));var o={};return e.eachSeriesByType("map",(function(e){if(!e.getHostGeoModel()){var t=e.getMapType();o[t]=o[t]||[],o[t].push(e)}})),p.S6(o,(function(e,o){var r=p.UI(e,(function(e){return e.get("nameMap")})),a=new Wt(o,o,p.l7({nameMap:p.Jn(r)},i(e[0])));a.zoomLimit=p.Jv.apply(null,p.UI(e,(function(e){return e.get("scaleLimit")}))),n.push(a),a.resize=Jt,a.resize(e[0],t),p.S6(e,(function(e){e.coordinateSystem=a,jt(a,e)}))})),n},e.prototype.getFilledRegions=function(e,t,n,i){for(var o=(e||[]).slice(),r=p.kW(),a=0;a<o.length;a++)r.set(o[a].name,o[a]);var s=qe.load(t,n,i);return p.S6(s.regions,(function(e){var t=e.name;!r.get(t)&&o.push({name:t})})),o},e}(),$t=new Kt,qt=$t,Qt=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,l.ZT)(t,e),t.prototype.init=function(e,t,n){var i=qe.getGeoResource(e.map);if(i&&"geoJSON"===i.type){var o=e.itemStyle=e.itemStyle||{};"color"in o||(o.color="#eee")}this.mergeDefaultAndTheme(e,n),ot.Cc(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,t=this.option;t.regions=qt.getFilledRegions(t.regions,t.map,t.nameMap,t.nameProperty);var n={};this._optionModelMap=p.u4(t.regions||[],(function(t,i){var o=i.name;return o&&(t.set(o,new Pt.Z(i,e,e.ecModel)),i.selected&&(n[o]=!0)),t}),p.kW()),t.selectedMap||(t.selectedMap=n)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Pt.Z(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,t){var n=this.getRegionModel(e),i="normal"===t?n.get(["label","formatter"]):n.get(["emphasis","label","formatter"]),o={name:e};return p.mf(i)?(o.status=t,i(o)):p.HD(i)?i.replace("{a}",null!=e?e:""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var t=this.option,n=t.selectedMode;if(n){"multiple"!==n&&(t.selectedMap=null);var i=t.selectedMap||(t.selectedMap={});i[e]=!0}},t.prototype.unSelect=function(e){var t=this.option.selectedMap;t&&(t[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var t=this.option.selectedMap;return!(!t||!t[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(At.Z),en=Qt;function tn(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function nn(e,t,n,i){var o=e.getZoom(),r=e.getCenter(),a=t.zoom,s=e.projectedToPoint?e.projectedToPoint(r):e.dataToPoint(r);if(null!=t.dx&&null!=t.dy&&(s[0]-=t.dx,s[1]-=t.dy,e.setCenter(tn(e,s),i)),null!=a){if(n){var l=n.min||0,u=n.max||1/0;a=Math.max(Math.min(o*a,u),l)/o}e.scaleX*=a,e.scaleY*=a;var p=(t.originX-e.x)*(a-1),c=(t.originY-e.y)*(a-1);e.x-=p,e.y-=c,e.updateTransform(),e.setCenter(tn(e,s),i),e.setZoom(a*o)}return{center:e.getCenter(),zoom:e.getZoom()}}var on=n(33166),rn=n(18310),an=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.focusBlurEnabled=!0,n}return(0,l.ZT)(t,e),t.prototype.init=function(e,t){this._api=t},t.prototype.render=function(e,t,n,i){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new _t(n));var o=this._mapDraw;o.draw(e,t,n,this,i),o.group.on("click",this._handleRegionClick,this),o.group.silent=e.get("silent"),this.group.add(o.group),this.updateSelectStatus(e,t,n)},t.prototype._handleRegionClick=function(e){var t;(0,rn.o)(e.target,(function(e){return null!=(t=(0,tt.A)(e).eventData)}),!0),t&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:t.name})},t.prototype.updateSelectStatus=function(e,t,n){var i=this;this._mapDraw.group.traverse((function(e){var t=(0,tt.A)(e).eventData;if(t)return i._model.isSelected(t.name)?n.enterSelect(e):n.leaveSelect(e),!0}))},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(on.Z),sn=an;function ln(e,t,n){qe.registerMap(e,t,n)}function un(e){function t(t,n){n.update="geo:updateSelectStatus",e.registerAction(n,(function(e,n){var i={},o=[];return n.eachComponent({mainType:"geo",query:e},(function(n){n[t](e.name);var r=n.coordinateSystem;(0,p.S6)(r.regions,(function(e){i[e.name]=n.isSelected(e.name)||!1}));var a=[];(0,p.S6)(i,(function(e,t){i[t]&&a.push(t)})),o.push({geoIndex:n.componentIndex,name:a})})),{selected:i,allSelected:o,name:e.name}}))}e.registerCoordinateSystem("geo",qt),e.registerComponentModel(en),e.registerComponentView(sn),e.registerImpl("registerMap",ln),e.registerImpl("getMap",(function(e){return qe.getMapForUser(e)})),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(e,t,n){var i=e.componentType||"series";t.eachComponent({mainType:i,query:e},(function(t){var o=t.coordinateSystem;if("geo"===o.type){var r=nn(o,e,t.get("scaleLimit"),n);t.setCenter&&t.setCenter(r.center),t.setZoom&&t.setZoom(r.zoom),"series"===i&&(0,p.S6)(t.seriesGroup,(function(e){e.setCenter(r.center),e.setZoom(r.zoom)}))}}))}))}function pn(e){(0,r.D)(un),e.registerChartView(wt),e.registerSeriesModel(Rt),e.registerLayout(Lt),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,kt),(0,Ot.y)("map",e.registerAction)}var cn={get:function(e,t,n){var i=p.d9((hn[e]||{})[t]);return n&&p.kJ(i)?i[i.length-1]:i}},hn={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},gn=cn,dn=n(21092),fn=p.S6,vn=p.Kn,mn=-1,yn=function(){function e(t){var n=t.mappingMethod,i=t.type,o=this.option=p.d9(t);this.type=i,this.mappingMethod=n,this._normalizeData=Vn[n];var r=e.visualHandlers[i];this.applyVisual=r.applyVisual,this.getColorMapper=r.getColorMapper,this._normalizedToVisual=r._normalizedToVisual[n],"piecewise"===n?(xn(o),_n(o)):"category"===n?o.categories?Sn(o):xn(o,!0):(p.hu("linear"!==n||o.dataExtent),xn(o))}return e.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},e.prototype.getNormalizer=function(){return p.ak(this._normalizeData,this)},e.listVisualTypes=function(){return p.XP(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(e,t,n){p.Kn(e)?p.S6(e,t,n):t.call(n,e)},e.mapVisual=function(t,n,i){var o,r=p.kJ(t)?[]:p.Kn(t)?{}:(o=!0,null);return e.eachVisual(t,(function(e,t){var a=n.call(i,e,t);o?r=a:r[t]=a})),r},e.retrieveVisuals=function(t){var n,i={};return t&&fn(e.visualHandlers,(function(e,o){t.hasOwnProperty(o)&&(i[o]=t[o],n=!0)})),n?i:null},e.prepareVisualTypes=function(e){if(p.kJ(e))e=e.slice();else{if(!vn(e))return[];var t=[];fn(e,(function(e,n){t.push(n)})),e=t}return e.sort((function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1})),e},e.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},e.findPieceIndex=function(e,t,n){for(var i,o=1/0,r=0,a=t.length;r<a;r++){var s=t[r].value;if(null!=s){if(s===e||p.HD(s)&&s===e+"")return r;n&&h(s,r)}}for(r=0,a=t.length;r<a;r++){var l=t[r],u=l.interval,c=l.close;if(u){if(u[0]===-1/0){if(kn(c[1],e,u[1]))return r}else if(u[1]===1/0){if(kn(c[0],u[0],e))return r}else if(kn(c[0],u[0],e)&&kn(c[1],e,u[1]))return r;n&&h(u[0],r),n&&h(u[1],r)}}if(n)return e===1/0?t.length-1:e===-1/0?0:i;function h(t,n){var r=Math.abs(t-e);r<o&&(o=r,i=n)}},e.visualHandlers={color:{applyVisual:Mn("color"),getColorMapper:function(){var e=this.option;return p.ak("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),Tn.call(this,e)}:function(t,n,i){var o=!!i;return!n&&(t=this._normalizeData(t)),i=dn.Uu(t,e.parsedVisual,i),o?i:dn.Pz(i,"rgba")},this)},_normalizedToVisual:{linear:function(e){return dn.Pz(dn.Uu(e,this.option.parsedVisual),"rgba")},category:Tn,piecewise:function(e,t){var n=Dn.call(this,t);return null==n&&(n=dn.Pz(dn.Uu(e,this.option.parsedVisual),"rgba")),n},fixed:Cn}},colorHue:wn((function(e,t){return dn.ox(e,t)})),colorSaturation:wn((function(e,t){return dn.ox(e,null,t)})),colorLightness:wn((function(e,t){return dn.ox(e,null,null,t)})),colorAlpha:wn((function(e,t){return dn.m8(e,t)})),decal:{applyVisual:Mn("decal"),_normalizedToVisual:{linear:null,category:Tn,piecewise:null,fixed:null}},opacity:{applyVisual:Mn("opacity"),_normalizedToVisual:In([0,1])},liftZ:{applyVisual:Mn("liftZ"),_normalizedToVisual:{linear:Cn,category:Cn,piecewise:Cn,fixed:Cn}},symbol:{applyVisual:function(e,t,n){var i=this.mapValueToVisual(e);n("symbol",i)},_normalizedToVisual:{linear:bn,category:Tn,piecewise:function(e,t){var n=Dn.call(this,t);return null==n&&(n=bn.call(this,e)),n},fixed:Cn}},symbolSize:{applyVisual:Mn("symbolSize"),_normalizedToVisual:In([0,1])}},e}();function _n(e){var t=e.pieceList;e.hasSpecialVisual=!1,p.S6(t,(function(t,n){t.originIndex=n,null!=t.visual&&(e.hasSpecialVisual=!0)}))}function Sn(e){var t=e.categories,n=e.categoryMap={},i=e.visual;if(fn(t,(function(e,t){n[e]=t})),!p.kJ(i)){var o=[];p.Kn(i)?fn(i,(function(e,t){var i=n[t];o[null!=i?i:mn]=e})):o[mn]=i,i=Rn(e,o)}for(var r=t.length-1;r>=0;r--)null==i[r]&&(delete n[t[r]],t.pop())}function xn(e,t){var n=e.visual,i=[];p.Kn(n)?fn(n,(function(e){i.push(e)})):null!=n&&i.push(n);var o={color:1,symbol:1};t||1!==i.length||o.hasOwnProperty(e.type)||(i[1]=i[0]),Rn(e,i)}function wn(e){return{applyVisual:function(t,n,i){var o=this.mapValueToVisual(t);i("color",e(n("color"),o))},_normalizedToVisual:In([0,1])}}function bn(e){var t=this.option.visual;return t[Math.round((0,Zt.NU)(e,[0,1],[0,t.length-1],!0))]||{}}function Mn(e){return function(t,n,i){i(e,this.mapValueToVisual(t))}}function Tn(e){var t=this.option.visual;return t[this.option.loop&&e!==mn?e%t.length:e]}function Cn(){return this.option.visual[0]}function In(e){return{linear:function(t){return(0,Zt.NU)(t,e,this.option.visual,!0)},category:Tn,piecewise:function(t,n){var i=Dn.call(this,n);return null==i&&(i=(0,Zt.NU)(t,e,this.option.visual,!0)),i},fixed:Cn}}function Dn(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var i=yn.findPieceIndex(e,n),o=n[i];if(o&&o.visual)return o.visual[this.type]}}function Rn(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=p.UI(t,(function(e){var t=dn.Qc(e);return t||[0,0,0,1]}))),t}var Vn={linear:function(e){return(0,Zt.NU)(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=yn.findPieceIndex(e,t,!0);if(null!=n)return(0,Zt.NU)(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?mn:t},fixed:p.ZT};function kn(e,t,n){return e?t<=n:t<n}var Ln=yn,On=n(26211),An=p.S6;function Pn(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function Gn(e,t,n){var i={};return An(t,(function(t){var r=i[t]=o();An(e[t],(function(e,i){if(Ln.isValidType(i)){var o={type:i,visual:e};n&&n(o,t),r[i]=new Ln(o),"opacity"===i&&(o=p.d9(o),o.type="colorAlpha",r.__hidden.__alphaForOpacity=new Ln(o))}}))})),i;function o(){var e=function(){};e.prototype.__hidden=e.prototype;var t=new e;return t}}function Zn(e,t,n){var i;p.S6(n,(function(e){t.hasOwnProperty(e)&&Pn(t[e])&&(i=!0)})),i&&p.S6(n,(function(n){t.hasOwnProperty(n)&&Pn(t[n])?e[n]=p.d9(t[n]):delete e[n]}))}function zn(e,t,n,i){var o={};return p.S6(e,(function(e){var n=Ln.prepareVisualTypes(t[e]);o[e]=n})),{progress:function(e,r){var a,s;function l(e){return(0,On.Or)(r,s,e)}function u(e,t){(0,On.LZ)(r,s,e,t)}null!=i&&(a=r.getDimensionIndex(i));var p=r.getStore();while(null!=(s=e.next())){var c=r.getRawDataItem(s);if(!c||!1!==c.visualMap)for(var h=null!=i?p.get(a,s):s,g=n(h),d=t[g],f=o[g],v=0,m=f.length;v<m;v++){var y=f[v];d[y]&&d[y].applyVisual(h,l,u)}}}}}var Fn=Ln.mapVisual,Nn=Ln.eachVisual,Hn=p.kJ,Bn=p.S6,En=Zt.dt,Un=Zt.NU,Xn=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return(0,l.ZT)(t,e),t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)},t.prototype.optionUpdated=function(e,t){var n=this.option;!t&&Zn(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var t=this.stateList;e=p.ak(e,this),this.controllerVisuals=Gn(this.option.controller,t,e),this.targetVisuals=Gn(this.option.target,t,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries((function(e,n){t.push(n)})):t=ot.kF(e),t},t.prototype.eachTargetSeries=function(e,t){p.S6(this.getTargetSeriesIndices(),(function(n){var i=this.ecModel.getSeriesByIndex(n);i&&e.call(t,i)}),this)},t.prototype.isTargetSeries=function(e){var t=!1;return this.eachTargetSeries((function(n){n===e&&(t=!0)})),t},t.prototype.formatValueText=function(e,t,n){var i,o=this.option,r=o.precision,a=this.dataBound,s=o.formatter;n=n||["<",">"],p.kJ(e)&&(e=e.slice(),i=!0);var l=t?e:i?[u(e[0]),u(e[1])]:u(e);return p.HD(s)?s.replace("{value}",i?l[0]:l).replace("{value2}",i?l[1]:l):p.mf(s)?i?s(e[0],e[1]):s(e):i?e[0]===a[0]?n[0]+" "+l[1]:e[1]===a[1]?n[1]+" "+l[0]:l[0]+" - "+l[1]:l;function u(e){return e===a[0]?"min":e===a[1]?"max":(+e).toFixed(Math.min(r,20))}},t.prototype.resetExtent=function(){var e=this.option,t=En([e.min,e.max]);this._dataExtent=t},t.prototype.getDataDimensionIndex=function(e){var t=this.option.dimension;if(null!=t)return e.getDimensionIndex(t);for(var n=e.dimensions,i=n.length-1;i>=0;i--){var o=n[i],r=e.getDimensionInfo(o);if(!r.isCalculationCoord)return r.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,t=this.option,n={inRange:t.inRange,outOfRange:t.outOfRange},i=t.target||(t.target={}),o=t.controller||(t.controller={});p.TS(i,n),p.TS(o,n);var r=this.isCategory();function a(n){Hn(t.color)&&!n.inRange&&(n.inRange={color:t.color.slice().reverse()}),n.inRange=n.inRange||{color:e.get("gradientColor")}}function s(e,t,n){var i=e[t],o=e[n];i&&!o&&(o=e[n]={},Bn(i,(function(e,t){if(Ln.isValidType(t)){var n=gn.get(t,"inactive",r);null!=n&&(o[t]=n,"color"!==t||o.hasOwnProperty("opacity")||o.hasOwnProperty("colorAlpha")||(o.opacity=[0,0]))}})))}function l(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,n=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,i=this.get("inactiveColor"),o=this.getItemSymbol(),a=o||"roundRect";Bn(this.stateList,(function(o){var s=this.itemSize,l=e[o];l||(l=e[o]={color:r?i:[i]}),null==l.symbol&&(l.symbol=t&&p.d9(t)||(r?a:[a])),null==l.symbolSize&&(l.symbolSize=n&&p.d9(n)||(r?s[0]:[s[0],s[0]])),l.symbol=Fn(l.symbol,(function(e){return"none"===e?a:e}));var u=l.symbolSize;if(null!=u){var c=-1/0;Nn(u,(function(e){e>c&&(c=e)})),l.symbolSize=Fn(u,(function(e){return Un(e,[0,c],[0,s[0]],!0)}))}}),this)}a.call(this,i),a.call(this,o),s.call(this,i,"inRange","outOfRange"),l.call(this,o)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(At.Z),Wn=Xn,Yn=[20,140],Jn=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,l.ZT)(t,e),t.prototype.optionUpdated=function(t,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()})),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=Yn[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=Yn[1])},t.prototype._resetRange=function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):p.kJ(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),p.S6(this.stateList,(function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=t[1]/3)}),this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),t=Zt.dt((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},t.prototype.getValueState=function(e){var t=this.option.range,n=this.getExtent();return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[];return this.eachTargetSeries((function(n){var i=[],o=n.getData();o.each(this.getDataDimensionIndex(o),(function(t,n){e[0]<=t&&t<=e[1]&&i.push(n)}),this),t.push({seriesId:n.id,dataIndex:i})}),this),t},t.prototype.getVisualMeta=function(e){var t=jn(this,"outOfRange",this.getExtent()),n=jn(this,"inRange",this.option.range.slice()),i=[];function o(t,n){i.push({value:t,color:e(t,n)})}for(var r=0,a=0,s=n.length,l=t.length;a<l&&(!n.length||t[a]<=n[0]);a++)t[a]<n[r]&&o(t[a],"outOfRange");for(var u=1;r<s;r++,u=0)u&&i.length&&o(n[r],"outOfRange"),o(n[r],"inRange");for(u=1;a<l;a++)(!n.length||n[n.length-1]<t[a])&&(u&&(i.length&&o(i[i.length-1].value,"outOfRange"),u=0),o(t[a],"outOfRange"));var p=i.length;return{stops:i,outerColors:[p?i[0].color:"transparent",p?i[p-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=(0,Qe.ZL)(Wn.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(Wn);function jn(e,t,n){if(n[0]===n[1])return n.slice();for(var i=200,o=(n[1]-n[0])/i,r=n[0],a=[],s=0;s<=i&&r<n[1];s++)a.push(r),r+=o;return a.push(n[1]),a}var Kn=Jn,$n=n(78988),qn=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return(0,l.ZT)(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t},t.prototype.render=function(e,t,n,i){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,t,n,i):this.group.removeAll()},t.prototype.renderBackground=function(e){var t=this.visualMapModel,n=$n.MY(t.get("padding")||0),i=e.getBoundingRect();e.add(new A.Z({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,t,n){n=n||{};var i=n.forceState,o=this.visualMapModel,r={};if("color"===t){var a=o.get("contentColor");r.color=a}function s(e){return r[e]}function l(e,t){r[e]=t}var u=o.controllerVisuals[i||o.getValueState(e)],c=Ln.prepareVisualTypes(u);return p.S6(c,(function(i){var o=u[i];n.convertOpacityToAlpha&&"opacity"===i&&(i="colorAlpha",o=u.__alphaForOpacity),Ln.dependsOn(i,t)&&o&&o.applyVisual(e,s,l)})),r[t]},t.prototype.positionGroup=function(e){var t=this.visualMapModel,n=this.api;Yt.p$(e,t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},t.prototype.doRender=function(e,t,n,i){},t.type="visualMap",t}(on.Z),Qn=qn,ei=n(96498);function ti(e,t,n,i,o,r){e=e||0;var a=n[1]-n[0];if(null!=o&&(o=ii(o,[0,a])),null!=r&&(r=Math.max(r,null!=o?o:0)),"all"===i){var s=Math.abs(t[1]-t[0]);s=ii(s,[0,a]),o=r=ii(s,[o,r]),i=0}t[0]=ii(t[0],n),t[1]=ii(t[1],n);var l=ni(t,i);t[i]+=e;var u,p=o||0,c=n.slice();return l.sign<0?c[0]+=p:c[1]-=p,t[i]=ii(t[i],c),u=ni(t,i),null!=o&&(u.sign!==l.sign||u.span<o)&&(t[1-i]=t[i]+l.sign*o),u=ni(t,i),null!=r&&u.span>r&&(t[1-i]=t[i]+u.sign*r),t}function ni(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function ii(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}var oi=[["left","right","width"],["top","bottom","height"]];function ri(e,t,n){var i=e.option,o=i.align;if(null!=o&&"auto"!==o)return o;for(var r={width:t.getWidth(),height:t.getHeight()},a="horizontal"===i.orient?1:0,s=oi[a],l=[0,null,10],u={},p=0;p<3;p++)u[oi[1-a][p]]=l[p],u[s[p]]=2===p?n[0]:i[s[p]];var c=[["x","width",3],["y","height",0]][a],h=(0,Yt.ME)(u,r,i.padding);return s[(h.margin[c[2]]||0)+h[c[0]]+.5*h[c[1]]<.5*r[c[1]]?0:1]}function ai(e,t){return p.S6(e||[],(function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")})),e}var si=n(80423),li=Zt.NU,ui=p.S6,pi=Math.min,ci=Math.max,hi=12,gi=6,di=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return(0,l.ZT)(t,e),t.prototype.doRender=function(e,t,n,i){this._api=n,i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var n=e.get("text");this._renderEndsText(t,n,0),this._renderEndsText(t,n,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},t.prototype._renderEndsText=function(e,t,n){if(t){var i=t[1-n];i=null!=i?i+"":"";var o=this.visualMapModel,r=o.get("textGap"),a=o.itemSize,s=this._shapes.mainGroup,l=this._applyTransform([a[0]/2,0===n?-r:a[1]+r],s),u=this._applyTransform(0===n?"bottom":"top",s),p=this._orient,c=this.visualMapModel.textStyleModel;this.group.add(new ei.ZP({style:(0,et.Lr)(c,{x:l[0],y:l[1],verticalAlign:"horizontal"===p?"middle":u,align:"horizontal"===p?u:"center",text:i})}))}},t.prototype._renderBar=function(e){var t=this.visualMapModel,n=this._shapes,i=t.itemSize,o=this._orient,r=this._useHandle,a=ri(t,this.api,i),s=n.mainGroup=this._createBarGroup(a),l=new C.Z;s.add(l),l.add(n.outOfRange=fi()),l.add(n.inRange=fi(null,r?yi(this._orient):null,p.ak(this._dragHandle,this,"all",!1),p.ak(this._dragHandle,this,"all",!0))),l.setClipPath(new A.Z({shape:{x:0,y:0,width:i[0],height:i[1],r:3}}));var u=t.textStyleModel.getTextRect("国"),c=ci(u.width,u.height);r&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(t,s,0,i,c,o),this._createHandle(t,s,1,i,c,o)),this._createIndicator(t,s,i,c,o),e.add(s)},t.prototype._createHandle=function(e,t,n,i,o,r){var a=p.ak(this._dragHandle,this,n,!1),s=p.ak(this._dragHandle,this,n,!0),l=(0,si.GM)(e.get("handleSize"),i[0]),u=(0,It.th)(e.get("handleIcon"),-l/2,-l/2,l,l,null,!0),c=yi(this._orient);u.attr({cursor:c,draggable:!0,drift:a,ondragend:s,onmousemove:function(e){h.sT(e.event)}}),u.x=i[0]/2,u.useStyle(e.getModel("handleStyle").getItemStyle()),u.setStyle({strokeNoScale:!0,strokeFirst:!0}),u.style.lineWidth*=2,u.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),(0,L.Nj)(u,!0),t.add(u);var g=this.visualMapModel.textStyleModel,d=new ei.ZP({cursor:c,draggable:!0,drift:a,onmousemove:function(e){h.sT(e.event)},ondragend:s,style:(0,et.Lr)(g,{x:0,y:0,text:""})});d.ensureState("blur").style={opacity:.1},d.stateTransition={duration:200},this.group.add(d);var f=[l,0],v=this._shapes;v.handleThumbs[n]=u,v.handleLabelPoints[n]=f,v.handleLabels[n]=d},t.prototype._createIndicator=function(e,t,n,i,o){var r=(0,si.GM)(e.get("indicatorSize"),n[0]),a=(0,It.th)(e.get("indicatorIcon"),-r/2,-r/2,r,r,null,!0);a.attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2});var s=e.getModel("indicatorStyle").getItemStyle();if(a instanceof O.ZP){var l=a.style;a.useStyle(p.l7({image:l.image,x:l.x,y:l.y,width:l.width,height:l.height},s))}else a.useStyle(s);t.add(a);var u=this.visualMapModel.textStyleModel,c=new ei.ZP({silent:!0,invisible:!0,style:(0,et.Lr)(u,{x:0,y:0,text:""})});this.group.add(c);var h=[("horizontal"===o?i/2:gi)+n[0]/2,0],g=this._shapes;g.indicator=a,g.indicatorLabel=c,g.indicatorLabelPoint=h,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,t,n,i){if(this._useHandle){if(this._dragging=!t,!t){var o=this._applyTransform([n,i],this._shapes.mainGroup,!0);this._updateInterval(e,o[1]),this._hideIndicator(),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():mi(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),i=[0,e.itemSize[1]];this._handleEnds=[li(t[0],n,i,!0),li(t[1],n,i,!0)]},t.prototype._updateInterval=function(e,t){t=t||0;var n=this.visualMapModel,i=this._handleEnds,o=[0,n.itemSize[1]];ti(t,i,o,e,0);var r=n.getExtent();this._dataInterval=[li(i[0],o,r,!0),li(i[1],o,r,!0)]},t.prototype._updateView=function(e){var t=this.visualMapModel,n=t.getExtent(),i=this._shapes,o=[0,t.itemSize[1]],r=e?o:this._handleEnds,a=this._createBarVisual(this._dataInterval,n,r,"inRange"),s=this._createBarVisual(n,n,o,"outOfRange");i.inRange.setStyle({fill:a.barColor}).setShape("points",a.barPoints),i.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),this._updateHandle(r,a)},t.prototype._createBarVisual=function(e,t,n,i){var o={forceState:i,convertOpacityToAlpha:!0},r=this._makeColorGradient(e,o),a=[this.getControllerVisual(e[0],"symbolSize",o),this.getControllerVisual(e[1],"symbolSize",o)],s=this._createBarPoints(n,a);return{barColor:new F.Z(0,0,0,1,r),barPoints:s,handlesColor:[r[0].color,r[r.length-1].color]}},t.prototype._makeColorGradient=function(e,t){var n=100,i=[],o=(e[1]-e[0])/n;i.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var r=1;r<n;r++){var a=e[0]+o*r;if(a>e[1])break;i.push({color:this.getControllerVisual(a,"color",t),offset:r/n})}return i.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),i},t.prototype._createBarPoints=function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},t.prototype._createBarGroup=function(e){var t=this._orient,n=this.visualMapModel.get("inverse");return new C.Z("horizontal"!==t||n?"horizontal"===t&&n?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==t||n?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,t){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,o=n.handleThumbs,r=n.handleLabels,a=i.itemSize,s=i.getExtent();ui([0,1],(function(l){var u=o[l];u.setStyle("fill",t.handlesColor[l]),u.y=e[l];var p=li(e[l],[0,a[1]],s,!0),c=this.getControllerVisual(p,"symbolSize");u.scaleX=u.scaleY=c/a[0],u.x=a[0]-c/2;var h=k.applyTransform(n.handleLabelPoints[l],k.getTransform(u,this.group));r[l].setStyle({x:h[0],y:h[1],text:i.formatValueText(this._dataInterval[l]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",n.mainGroup):"center"})}),this)}},t.prototype._showIndicator=function(e,t,n,i){var o=this.visualMapModel,r=o.getExtent(),a=o.itemSize,s=[0,a[1]],l=this._shapes,u=l.indicator;if(u){u.attr("invisible",!1);var p={convertOpacityToAlpha:!0},c=this.getControllerVisual(e,"color",p),h=this.getControllerVisual(e,"symbolSize"),g=li(e,r,s,!0),d=a[0]-h/2,f={x:u.x,y:u.y};u.y=g,u.x=d;var v=k.applyTransform(l.indicatorLabelPoint,k.getTransform(u,this.group)),m=l.indicatorLabel;m.attr("invisible",!1);var y=this._applyTransform("left",l.mainGroup),_=this._orient,S="horizontal"===_;m.setStyle({text:(n||"")+o.formatValueText(t),verticalAlign:S?y:"middle",align:S?"center":y});var x={x:d,y:g,style:{fill:c}},w={style:{x:v[0],y:v[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var b={duration:100,easing:"cubicInOut",additive:!0};u.x=f.x,u.y=f.y,u.animateTo(x,b),m.animateTo(w,b)}else u.attr(x),m.attr(w);this._firstShowIndicator=!1;var M=this._shapes.handleLabels;if(M)for(var T=0;T<M.length;T++)this._api.enterBlur(M[T])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",(function(t){if(e._hovering=!0,!e._dragging){var n=e.visualMapModel.itemSize,i=e._applyTransform([t.offsetX,t.offsetY],e._shapes.mainGroup,!0,!0);i[1]=pi(ci(0,i[1]),n[1]),e._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}})).on("mouseout",(function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()}))},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,t){var n=this.visualMapModel,i=n.itemSize;if(n.option.hoverLink){var o=[0,i[1]],r=n.getExtent();e=pi(ci(o[0],e),o[1]);var a=vi(n,r,o),s=[e-a,e+a],l=li(e,o,r,!0),u=[li(s[0],o,r,!0),li(s[1],o,r,!0)];s[0]<o[0]&&(u[0]=-1/0),s[1]>o[1]&&(u[1]=1/0),t&&(u[0]===-1/0?this._showIndicator(l,u[1],"< ",a):u[1]===1/0?this._showIndicator(l,u[0],"> ",a):this._showIndicator(l,l,"≈ ",a));var p=this._hoverLinkDataIndices,c=[];(t||mi(n))&&(c=this._hoverLinkDataIndices=n.findTargetDataIndices(u));var h=ot.XI(p,c);this._dispatchHighDown("downplay",ai(h[0],n)),this._dispatchHighDown("highlight",ai(h[1],n))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var t=e.target,n=this.visualMapModel;if(t&&null!=(0,tt.A)(t).dataIndex){var i=(0,tt.A)(t),o=this.ecModel.getSeriesByIndex(i.seriesIndex);if(n.isTargetSeries(o)){var r=o.getData(i.dataType),a=r.getStore().get(n.getDataDimensionIndex(r),i.dataIndex);isNaN(a)||this._showIndicator(a,a)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var t=this._shapes.handleLabels;if(t)for(var n=0;n<t.length;n++)this._api.leaveBlur(t[n])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",ai(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,t,n,i){var o=k.getTransform(t,i?null:this.group);return p.kJ(e)?k.applyTransform(e,o,n):k.transformDirection(e,o,n)},t.prototype._dispatchHighDown=function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(Qn);function fi(e,t,n,i){return new D.Z({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(e){h.sT(e.event)},ondragend:i})}function vi(e,t,n){var i=hi/2,o=e.get("hoverLinkDataSize");return o&&(i=li(o,t,n,!0)/2),i}function mi(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function yi(e){return"vertical"===e?"ns-resize":"ew-resize"}var _i=di,Si={type:"selectDataRange",event:"dataRangeSelected",update:"update"},xi=function(e,t){t.eachComponent({mainType:"visualMap",query:e},(function(t){t.setSelected(e.selected)}))},wi=[{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent("visualMap",(function(t){var i=e.pipelineContext;!t.isTargetSeries(e)||i&&i.large||n.push(zn(t.stateList,t.targetVisuals,p.ak(t.getValueState,t),t.getDataDimensionIndex(e.getData())))})),n}},{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),i=[];t.eachComponent("visualMap",(function(t){if(t.isTargetSeries(e)){var o=t.getVisualMeta(p.ak(bi,null,e,t))||{stops:[],outerColors:[]},r=t.getDataDimensionIndex(n);r>=0&&(o.dimension=r,i.push(o))}})),e.getData().setVisual("visualMeta",i)}}];function bi(e,t,n,i){for(var o=t.targetVisuals[i],r=Ln.prepareVisualTypes(o),a={color:(0,On.UL)(e.getData(),"color")},s=0,l=r.length;s<l;s++){var u=r[s],p=o["opacity"===u?"__alphaForOpacity":u];p&&p.applyVisual(n,c,h)}return a.color;function c(e){return a[e]}function h(e,t){a[e]=t}}var Mi=p.S6;function Ti(e){var t=e&&e.visualMap;p.kJ(t)||(t=t?[t]:[]),Mi(t,(function(e){if(e){Ci(e,"splitList")&&!Ci(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&p.kJ(t)&&Mi(t,(function(e){p.Kn(e)&&(Ci(e,"start")&&!Ci(e,"min")&&(e.min=e.start),Ci(e,"end")&&!Ci(e,"max")&&(e.max=e.end))}))}}))}function Ci(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var Ii=!1;function Di(e){Ii||(Ii=!0,e.registerSubTypeDefaulter("visualMap",(function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"})),e.registerAction(Si,xi),(0,p.S6)(wi,(function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)})),e.registerPreprocessor(Ti))}function Ri(e){e.registerComponentModel(Kn),e.registerComponentView(_i),Di(e)}var Vi=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._pieceList=[],n}return(0,l.ZT)(t,e),t.prototype.optionUpdated=function(t,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],ki[this._mode].call(this,this._pieceList),this._resetSelected(t,n);var o=this.option.categories;this.resetVisual((function(e,t){"categories"===i?(e.mappingMethod="category",e.categories=p.d9(o)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=p.UI(this._pieceList,(function(e){return e=p.d9(e),"inRange"!==t&&(e.visual=null),e})))}))},t.prototype.completeVisualOption=function(){var t=this.option,n={},i=Ln.listVisualTypes(),o=this.isCategory();function r(e,t,n){return e&&e[t]&&e[t].hasOwnProperty(n)}p.S6(t.pieces,(function(e){p.S6(i,(function(t){e.hasOwnProperty(t)&&(n[t]=1)}))})),p.S6(n,(function(e,n){var i=!1;p.S6(this.stateList,(function(e){i=i||r(t,e,n)||r(t.target,e,n)}),this),!i&&p.S6(this.stateList,(function(e){(t[e]||(t[e]={}))[n]=gn.get(n,"inRange"===e?"active":"inactive",o)}))}),this),e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,t){var n=this.option,i=this._pieceList,o=(t?n:e).selected||{};if(n.selected=o,p.S6(i,(function(e,t){var n=this.getSelectedMapKey(e);o.hasOwnProperty(n)||(o[n]=!0)}),this),"single"===n.selectedMode){var r=!1;p.S6(i,(function(e,t){var n=this.getSelectedMapKey(e);o[n]&&(r?o[n]=!1:r=!0)}),this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=p.d9(e)},t.prototype.getValueState=function(e){var t=Ln.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[],n=this._pieceList;return this.eachTargetSeries((function(i){var o=[],r=i.getData();r.each(this.getDataDimensionIndex(r),(function(t,i){var r=Ln.findPieceIndex(t,n);r===e&&o.push(i)}),this),t.push({seriesId:i.id,dataIndex:o})}),this),t},t.prototype.getRepresentValue=function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var n=e.interval||[];t=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return t},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var t=[],n=["",""],i=this,o=this._pieceList.slice();if(o.length){var r=o[0].interval[0];r!==-1/0&&o.unshift({interval:[-1/0,r]}),r=o[o.length-1].interval[1],r!==1/0&&o.push({interval:[r,1/0]})}else o.push({interval:[-1/0,1/0]});var a=-1/0;return p.S6(o,(function(e){var t=e.interval;t&&(t[0]>a&&s([a,t[0]],"outOfRange"),s(t.slice()),a=t[1])}),this),{stops:t,outerColors:n}}function s(o,r){var a=i.getRepresentValue({interval:o});r||(r=i.getValueState(a));var s=e(a,r);o[0]===-1/0?n[0]=s:o[1]===1/0?n[1]=s:t.push({value:o[0],color:s},{value:o[1],color:s})}},t.type="visualMap.piecewise",t.defaultOption=(0,Qe.ZL)(Wn.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(Wn),ki={splitNumber:function(e){var t=this.option,n=Math.min(t.precision,20),i=this.getExtent(),o=t.splitNumber;o=Math.max(parseInt(o,10),1),t.splitNumber=o;var r=(i[1]-i[0])/o;while(+r.toFixed(n)!==r&&n<5)n++;t.precision=n,r=+r.toFixed(n),t.minOpen&&e.push({interval:[-1/0,i[0]],close:[0,0]});for(var a=0,s=i[0];a<o;s+=r,a++){var l=a===o-1?i[1]:s+r;e.push({interval:[s,l],close:[1,1]})}t.maxOpen&&e.push({interval:[i[1],1/0],close:[0,0]}),(0,Zt.nR)(e),p.S6(e,(function(e,t){e.index=t,e.text=this.formatValueText(e.interval)}),this)},categories:function(e){var t=this.option;p.S6(t.categories,(function(t){e.push({text:this.formatValueText(t,!0),value:t})}),this),Li(t,e)},pieces:function(e){var t=this.option;p.S6(t.pieces,(function(t,n){p.Kn(t)||(t={value:t});var i={text:"",index:n};if(null!=t.label&&(i.text=t.label),t.hasOwnProperty("value")){var o=i.value=t.value;i.interval=[o,o],i.close=[1,1]}else{for(var r=i.interval=[],a=i.close=[0,0],s=[1,0,1],l=[-1/0,1/0],u=[],c=0;c<2;c++){for(var h=[["gte","gt","min"],["lte","lt","max"]][c],g=0;g<3&&null==r[c];g++)r[c]=t[h[g]],a[c]=s[g],u[c]=2===g;null==r[c]&&(r[c]=l[c])}u[0]&&r[1]===1/0&&(a[0]=0),u[1]&&r[0]===-1/0&&(a[1]=0),r[0]===r[1]&&a[0]&&a[1]&&(i.value=r[0])}i.visual=Ln.retrieveVisuals(t),e.push(i)}),this),Li(t,e),(0,Zt.nR)(e),p.S6(e,(function(e){var t=e.close,n=[["<","≤"][t[1]],[">","≥"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,n)}),this)}};function Li(e,t){var n=e.inverse;("vertical"===e.orient?!n:n)&&t.reverse()}var Oi=Vi,Ai=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,l.ZT)(t,e),t.prototype.doRender=function(){var e=this.group;e.removeAll();var t=this.visualMapModel,n=t.get("textGap"),i=t.textStyleModel,o=i.getFont(),r=i.getTextColor(),a=this._getItemAlign(),s=t.itemSize,l=this._getViewData(),u=l.endsText,c=p.Jv(t.get("showLabel",!0),!u);u&&this._renderEndsText(e,u[0],s,c,a),p.S6(l.viewPieceList,(function(i){var l=i.piece,u=new C.Z;u.onclick=p.ak(this._onItemClick,this,l),this._enableHoverLink(u,i.indexInModelPieceList);var h=t.getRepresentValue(l);if(this._createItemSymbol(u,h,[0,0,s[0],s[1]]),c){var g=this.visualMapModel.getValueState(h);u.add(new ei.ZP({style:{x:"right"===a?-n:s[0]+n,y:s[1]/2,text:l.text,verticalAlign:"middle",align:a,font:o,fill:r,opacity:"outOfRange"===g?.5:1}}))}e.add(u)}),this),u&&this._renderEndsText(e,u[1],s,c,a),Yt.BZ(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,t){var n=this;e.on("mouseover",(function(){return i("highlight")})).on("mouseout",(function(){return i("downplay")}));var i=function(e){var i=n.visualMapModel;i.option.hoverLink&&n.api.dispatchAction({type:e,batch:ai(i.findTargetDataIndices(t),i)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return ri(e,this.api,e.itemSize);var n=t.align;return n&&"auto"!==n||(n="left"),n},t.prototype._renderEndsText=function(e,t,n,i,o){if(t){var r=new C.Z,a=this.visualMapModel.textStyleModel;r.add(new ei.ZP({style:(0,et.Lr)(a,{x:i?"right"===o?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:i?o:"center",text:t})})),e.add(r)}},t.prototype._getViewData=function(){var e=this.visualMapModel,t=p.UI(e.getPieceList(),(function(e,t){return{piece:e,indexInModelPieceList:t}})),n=e.get("text"),i=e.get("orient"),o=e.get("inverse");return("horizontal"===i?o:!o)?t.reverse():n&&(n=n.slice().reverse()),{viewPieceList:t,endsText:n}},t.prototype._createItemSymbol=function(e,t,n){e.add((0,It.th)(this.getControllerVisual(t,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(t,"color")))},t.prototype._onItemClick=function(e){var t=this.visualMapModel,n=t.option,i=n.selectedMode;if(i){var o=p.d9(n.selected),r=t.getSelectedMapKey(e);"single"===i||!0===i?(o[r]=!0,p.S6(o,(function(e,t){o[t]=t===r}))):o[r]=!o[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},t.type="visualMap.piecewise",t}(Qn),Pi=Ai;function Gi(e){e.registerComponentModel(Oi),e.registerComponentView(Pi),Di(e)}function Zi(e){(0,r.D)(Ri),(0,r.D)(Gi)}var zi=n(82739),Fi=n(59634),Ni=n(91689),Hi=n(12544);(0,r.D)([s.N,pn,Zi,un,zi.N]);var Bi={components:{VChart:Fi.ZP},mixins:[(0,Hi.i)(["userCountMapChart"])],data:function(){return{userCountMapOption:{},userCountDataRank:[]}},computed:{styleResponsive:function(){return this.$store.state.theme.styleResponsive}},created:function(){this.registerChinaMap()},methods:{registerChinaMap:function(){var e=this;(0,Ni.B3)().then((function(t){(0,a.je)("china",t),e.getUserCountData()})).catch((function(t){e.$message.error(t.message)}))},getUserCountData:function(){var e=this;(0,Ni.QV)().then((function(t){var n=t.sort((function(e,t){return t.value-e.value})),i=n[n.length-1].value||0,o=n[0].value||1,r=n.length>10?n.slice(0,15):n;e.userCountDataRank=r.map((function(e){return{name:e.name,value:e.value,percent:e.value/o*100}})),e.userCountMapOption={tooltip:{trigger:"item",borderWidth:1},visualMap:{min:i,max:o,text:["高","低"],calculable:!0},series:[{name:"用户数",label:{show:!0},type:"map",map:"china",data:t}]}})).catch((function(t){e.$message.error(t.message)}))}}},Ei=Bi,Ui=n(1001),Xi=(0,Ui.Z)(Ei,i,o,!1,null,"0e5e9086",null),Wi=Xi.exports},30090:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(55623),o=n(4421),r=n(33051);function a(e,t,n){t=(0,r.kJ)(t)&&{coordDimensions:t}||(0,r.l7)({encodeDefine:e.getEncode()},t);var a=e.getSource(),s=(0,i.Z)(a,t).dimensions,l=new o.Z(s,e);return l.initData(a,n),l}},91689:function(e,t,n){n.d(t,{B3:function(){return s},QV:function(){return u},iz:function(){return c}});var i=n(50124),o=n(48534),r=(n(41539),n(21703),n(84471)),a="/";function s(){return l.apply(this,arguments)}function l(){return l=(0,o.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.Z.get(a+"json/china-provinces.geo.json",{baseURL:""});case 2:if(t=e.sent,!t.data){e.next=5;break}return e.abrupt("return",t.data);case 5:return e.abrupt("return",Promise.reject(new Error("获取地图数据失败")));case 6:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function u(){return p.apply(this,arguments)}function p(){return p=(0,o.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.Z.get("https://cdn.eleadmin.com/20200610/monitor-user-count.json");case 2:if(t=e.sent,0!==t.data.code){e.next=5;break}return e.abrupt("return",t.data.data);case 5:return e.abrupt("return",Promise.reject(new Error(t.data.message)));case 6:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function c(){return h.apply(this,arguments)}function h(){return h=(0,o.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.Z.get("https://cdn.eleadmin.com/20200610/monitor-browser-count.json");case 2:if(t=e.sent,0!==t.data.code){e.next=5;break}return e.abrupt("return",t.data.data);case 5:return e.abrupt("return",Promise.reject(new Error(t.data.message)));case 6:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}}}]);